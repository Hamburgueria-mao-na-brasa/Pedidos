<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√£o na Brasa | Card√°pio Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        html { scroll-behavior: smooth; }
        body { background-color: #000; color: #fff; font-family: 'Inter', sans-serif; overflow-x: hidden; }

        .bg-fixed-burger {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.85), rgba(0,0,0,0.95)), 
                        url('https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?q=80&w=2071&auto=format&fit=crop'); 
            background-size: cover; background-position: center;
            filter: blur(5px); z-index: -2; transform: scale(1.1);
        }

        .overlay-brasa {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at bottom, rgba(234, 88, 12, 0.25) 0%, transparent 75%);
            z-index: -1; pointer-events: none; animation: pulse-brasa 4s infinite alternate;
        }
        @keyframes pulse-brasa { 0% { opacity: 0.4; } 100% { opacity: 1; } }

        .faisca {
            position: fixed; background: #ff7300; width: 2px; height: 2px;
            border-radius: 50%; pointer-events: none; z-index: 50;
            animation: subir 5s linear infinite; opacity: 0.8; box-shadow: 0 0 5px #ff7300;
        }
        @keyframes subir {
            0% { transform: translateY(110vh) translateX(0); opacity: 1; }
            100% { transform: translateY(-10vh) translateX(30px); opacity: 0; }
        }

        header { background: rgba(0, 0, 0, 0.95); border-bottom: 2px solid #ea580c; box-shadow: 0 0 25px rgba(234, 88, 12, 0.6); }
        .item-card { background: rgba(24, 24, 27, 0.9); border: 1px solid #333; border-radius: 1.25rem; overflow: hidden; transition: 0.3s; cursor: pointer; }
        
        /* Melhoria: Feedback Visual de Clique */
        .item-card:active { transform: scale(0.95); border-color: #ea580c; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* Status de Fechado */
        .closed-overlay { filter: grayscale(1); opacity: 0.6; pointer-events: none; }
    </style>
</head>
<body>

    <div class="bg-fixed-burger"></div>
    <div class="overlay-brasa"></div>

    <header class="sticky top-0 z-[60] p-4 flex flex-col items-center backdrop-blur-md">
        <img src="maonabrasa.png" alt="M√£o na Brasa" class="h-20 mb-2 drop-shadow-[0_0_10px_rgba(234,88,12,0.9)]" onerror="this.src='https://via.placeholder.com/200x80/000000/ea580c?text=M√ÉO+NA+BRASA'">
        
        <div id="status-loja" class="text-[10px] font-bold uppercase px-3 py-1 rounded-full mb-2"></div>

        <nav class="flex gap-4 text-[20px] font-black uppercase tracking-widest text-zinc-400 overflow-x-auto no-scrollbar w-full justify-center">
            <a href="#combos">Combos</a>
            <a href="#burguers">Burguers</a>
            <a href="#porcoes">Por√ß√µes</a>
            <a href="#bebidas">Bebidas</a>
        </nav>
    </header>

    <main class="max-w-4xl mx-auto p-4 pb-40 relative">
        <h2 id="combos" class="text-orange-500 font-black italic uppercase text-xl mb-6 mt-4">üî• Combos e Barcas</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-12" id="combo-items"></div>

        <h2 id="burguers" class="text-orange-500 font-black italic uppercase text-xl mb-6">üçî Hamb√∫rgueres</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-12" id="burger-items"></div>

        <h2 id="porcoes" class="text-orange-500 font-black italic uppercase text-xl mb-6">üçü Por√ß√µes</h2>
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-12" id="portion-items"></div>

        <h2 id="bebidas" class="text-orange-500 font-black italic uppercase text-xl mb-6">ü•§ Bebidas</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3" id="beverage-items"></div>
    </main>

    <div id="cart-bar" class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[92%] max-w-md bg-orange-600 p-4 rounded-2xl flex justify-between items-center hidden shadow-2xl z-[70] cursor-pointer" onclick="toggleCart()">
        <span class="font-black uppercase text-sm text-white">üõí Ver Pedido (<span id="cart-count">0</span>)</span>
        <span id="total-display" class="font-black text-lg text-white">R$ 0,00</span>
    </div>

    <div id="cart-modal" class="fixed inset-0 bg-black/98 backdrop-blur-xl z-[100] hidden flex flex-col p-4 overflow-y-auto">
        <div class="w-full max-w-lg mx-auto pb-10 text-white">
            <div class="flex justify-between items-center mb-6 border-b border-zinc-800 pb-4">
                <h2 class="text-2xl font-black uppercase italic">Finalizar Pedido</h2>
                <button onclick="toggleCart()" class="text-zinc-500 text-4xl">&times;</button>
            </div>
            
            <div id="cart-list" class="space-y-3 mb-6"></div>
            
            <div class="space-y-4 text-black font-bold">
                <input type="text" id="customer-name" placeholder="Seu Nome" class="w-full p-4 rounded-xl bg-zinc-100 outline-none">
                <select id="delivery-method" onchange="updateCart()" class="w-full p-4 rounded-xl bg-zinc-100 outline-none">
                    <option value="retirada">Vou retirar na Hamburgueria</option>
                    <option value="entrega">Entregar em casa (+ R$ 10,00)</option>
                </select>
                <input type="text" id="customer-address" placeholder="Endere√ßo Completo" class="w-full p-4 rounded-xl bg-zinc-100 hidden outline-none">
                <textarea id="order-notes" placeholder="Observa√ß√µes (Sem cebola, ponto da carne...)" class="w-full p-4 rounded-xl bg-zinc-100 outline-none h-20 resize-none"></textarea>
                <select id="payment-method" onchange="toggleTroco()" class="w-full p-4 rounded-xl bg-zinc-100 outline-none">
                    <option value="Pix">Pix</option>
                    <option value="Cart√£o">Cart√£o</option>
                    <option value="Dinheiro">Dinheiro</option>
                </select>
                <input type="text" id="troco-input" placeholder="Troco para quanto?" class="w-full p-4 rounded-xl bg-zinc-100 hidden outline-none">
            </div>

            <div class="bg-zinc-900 p-6 rounded-2xl my-6 border border-zinc-800 flex justify-between items-center">
                <span class="text-zinc-400 font-black uppercase text-xs">Total</span>
                <span id="modal-total" class="text-3xl font-black text-orange-500">R$ 0,00</span>
            </div>

            <button id="btn-send" onclick="sendWhatsApp()" class="w-full bg-green-600 py-5 rounded-2xl font-black uppercase text-xl flex items-center justify-center gap-3 hover:bg-green-700 text-white shadow-lg">
                <i class="fab fa-whatsapp text-2xl"></i> Enviar para o WhatsApp
            </button>
        </div>
    </div>

    <script>
        // CONFIGURA√á√ÉO DE HOR√ÅRIO (Ex: 18:00 √†s 23:30)
        const OPEN_HOUR = 18;
        const CLOSE_HOUR = 23;
        const CLOSE_MINUTES = 30;

        let cart = {}; // Melhoria: Agora √© um objeto para agrupar quantidades

        const combos = [
            { name: "Combo Individual", price: 39.90, desc: "Classic Salada + Batata Frita + Bacon + Queijo Prato", img: "combo.jpg" },
            { name: "BRASA DUPLO (BARCA)", price: 79.90, desc: "2 Burguers + Batata com Bacon e Cheddar + 2 Refris 350ml", img: "barca.jpg" },
            { name: "Combo Econ√¥mico", price: 34.90, desc: "Classic Burguer + Refrigerante Lata 350ml", img: "economico.jpg" }
        ];

        const burgers = [
            { name: "Na Brasa Prime", price: 52.00, desc: "Dois blends bovinos suculentos preparados na brasa, servidos com o dobro de queijo (Prato e Cheddar) e a perfei√ß√£o de tr√™s camadas de bacon crocante. Para coroar, um ovo caipira de gema brilhante, salada fresca (alface, tomate e cebola roxa) e nossa maionese da casa sem √≥leo. Tudo isso no p√£o brioche macio, selado na manteiga.", img: "prime.jpg" },
            { name: "Black na Brasa", price: 48.00, desc: "P√£o Black selado na manteiga, recheado com dois blends bovinos suculentos feitos na brasa e bacon crocante. A intensidade do sabor fica por conta do queijo cheddar em dose dupla: duas camadas generosas derretidas mais um molho cheddar bem caprichado por cima.", img: "black.jpg" },
            { name: "Costela Prime", price: 45.00, desc: "Blend bovino suculento feito na brasa, coroado com costela desfiada e defumada ao molho barbecue. A cremosidade fica por conta do queijo prato e do nosso cream cheese ma√ßaricado na hora, trazendo um toque defumado extra. Servido no exclusivo p√£o de parmes√£o selado na manteiga e finalizado com molho especial da casa.", img: "costela.jpg" },
            { name: "Piscina de Chaddar", price: 45.00, desc: "Nosso burger cl√°ssico feito na brasa, com blend bovino suculento e MUITO bacon crocante, servido dentro de uma verdadeira piscina de cheddar cremoso. Para completar o banquete, acompanha uma por√ß√£o generosa de batatas fritas e an√©is de cebola (Onion Rings) para voc√™ mergulhar sem modera√ß√£o.", img: "image_7bb97d.jpg" },
            { name: "Bacon Burguer Duplo", price: 49.00, desc: "Dois blends bovinos suculentos preparados na brasa, acompanhados por duas camadas generosas de bacon super crocante e queijo derretido. Finalizado com nosso molho especial da casa (feito sem √≥leo) e servido no p√£o brioche macio, selado na manteiga.", img: "image_7bb97d.jpg" },
            { name: "Bacon Burguer", price: 37.00, desc: "Blend bovino suculento grelhado na brasa, coberto com fatias generosas de bacon crocante e queijo prato derretido. Finalizado com nosso molho especial da casa (feito sem √≥leo) e servido no p√£o brioche macio, selado na manteiga.", img: "bacon.jpg" },
            { name: "Bacon Burguer Triplo", price: 59.00, desc: "tr√™s blends bovinos suculentos feitos na brasa e tr√™s camadas generosas de bacon super crocante. Para elevar o n√≠vel, adicionamos nossa cebola caramelizada artesanal e a maionese especial da casa (sem √≥leo). Tudo isso no p√£o brioche macio, selado na manteiga.", img: "triplobacon.jpg" },
            { name: "Burguer Abacaxi", price: 38.00, desc: "Blend bovino suculento preparado na brasa, acompanhado de abacaxi chapeado e selado no mel, fatias de banana da terra douradas e queijo prato derretido. O frescor da r√∫cula traz o equil√≠brio perfeito para essa combina√ß√£o √∫nica. Tudo servido no p√£o brioche macio e selado na manteiga.", img: "image_7bbfe9.jpg" },
            { name: "Chee se Burger", price: 26.00, desc: "Blend bovino suculento feito na brasa, coberto com uma camada generosa de queijo cheddar duplo derretido. Finalizado com nossa exclusiva maionese especial da casa (feita sem √≥leo), no p√£o brioche macio e selado na manteiga.", img: "chesse.jpg" },
            { name: "Classic Burguer Salada", price: 30.00, desc: "Blend bovino preparado na brasa, queijo prato, alface, tomate, cebola roxa e nossa famosa maionese da casa sem √≥leo. Servido no p√£o brioche selado na manteiga.", img: "salada.jpg" },
            { name: "Classic Burguer Salada Especial", price: 38.00, desc: "Blend bovino de 160g preparado na brasa, coberto com bacon super crocante e queijo derretido. Acompanha alface, tomate, cebola roxa e nosso exclusivo molho especial (feito sem √≥leo). Tudo isso servido no p√£o brioche macio, selado na manteiga.", img: "saladaespecial.jpg" }
        ];

        const porcoes = [
            { name: "Batata Especial 250g", price: 20.00, desc: "Por√ß√£o de batata frita, bacon e queijo.", img: "batata250.jpg" },
            { name: "Batata Brasa Especial 500g", price: 35.00, desc: "Batata frita, com Cheddar e Bacon.", img: "batata500.jpg" },
            { name: "Aneis de cebola", price: 20.00, desc: "An√©is de cebola empanados.", img: "onion.jpg" }
        ];

        const beverages = [
            { name: "Coca-Cola 2 Litros", price: 13.00, desc: "Garrafa gelada", img: "coca2l.jpg" },
            { name: "Guaran√° Antarctica 2L", price: 13.00, desc: "Garrafa gelada", img: "Guarana.jpg" },
            { name: "Coca-Cola Lata", price: 6.00, desc: "350ml gelada", img: "coca350.jpg" },
            { name: "Coca-Cola Zero Lata", price: 6.00, desc: "350ml gelada", img: "cocazero350.jpg" },
            { name: "Guaran√° Lata", price: 6.00, desc: "350ml gelada", img: "guarana350.jpg" },
            { name: "Fanta Laranja Lata", price: 6.00, desc: "350ml gelada", img: "fanta350.jpg" },
            { name: "Suco de Laranja", price: 10.00, desc: "400ml Natural", img: "sucodelaranja.jpg" },
            { name: "Suco de Acerola", price: 10.00, desc: "400ml Natural", img: "acelora.jpg" },
            { name: "Suco de Abacaxi/Hortel√£", price: 10.00, desc: "400ml Natural", img: "abacaxi.jpg" },
            { name: "√Ågua com G√°s", price: 4.00, desc: "500ml", img: "aguag.jpg" },
            { name: "√Ågua sem G√°s", price: 4.00, desc: "500ml", img: "agua.jpg" }
        ];

        function checkStoreStatus() {
            const now = new Date();
            const hour = now.getHours();
            const min = now.getMinutes();
            const statusDiv = document.getElementById('status-loja');
            const btnSend = document.getElementById('btn-send');
            
            const isOpen = (hour > OPEN_HOUR || (hour === OPEN_HOUR && min >= 0)) && 
                           (hour < CLOSE_HOUR || (hour === CLOSE_HOUR && min <= CLOSE_MINUTES));

            if (isOpen) {
                statusDiv.innerText = "‚óè Aberto Agora";
                statusDiv.className = "text-[10px] font-bold uppercase px-3 py-1 rounded-full mb-2 bg-green-500/20 text-green-500 border border-green-500/50";
            } else {
                statusDiv.innerText = "‚óè Fechado (Abre √†s " + OPEN_HOUR + ":00)";
                statusDiv.className = "text-[10px] font-bold uppercase px-3 py-1 rounded-full mb-2 bg-red-500/20 text-red-500 border border-red-500/50";
                document.querySelector('main').classList.add('closed-overlay');
                btnSend.disabled = true;
                btnSend.classList.replace('bg-green-600', 'bg-zinc-700');
                btnSend.innerText = "Loja Fechada";
            }
        }

        function renderGrid(items, containerId) {
            const container = document.getElementById(containerId);
            items.forEach(item => {
                container.innerHTML += `
                    <div class="item-card flex flex-col" onclick="addToCart('${item.name}', ${item.price}, '${item.img}')">
                        <img src="${item.img}" loading="lazy" class="w-full aspect-square object-cover" onerror="this.src='https://via.placeholder.com/300/222/ea580c?text=FOTO'">
                        <div class="p-3 flex flex-col flex-grow">
                            <h3 class="font-black text-[11px] uppercase italic leading-tight">${item.name}</h3>
                            <p class="text-[9px] text-zinc-400 mt-2 flex-grow">${item.desc}</p>
                            <div class="mt-3 flex justify-between items-center">
                                <span class="text-orange-500 font-black text-sm">R$ ${item.price.toFixed(2)}</span>
                                <i class="fas fa-plus-circle text-orange-500/50"></i>
                            </div>
                        </div>
                    </div>`;
            });
        }

        function renderBebidas() {
            const container = document.getElementById('beverage-items');
            beverages.forEach(item => {
                container.innerHTML += `
                    <div class="bg-zinc-900/90 p-3 rounded-xl flex items-center gap-3 border border-zinc-800" onclick="addToCart('${item.name}', ${item.price}, '${item.img}')">
                        <img src="${item.img}" loading="lazy" class="w-12 h-12 object-cover rounded-lg" onerror="this.src='https://via.placeholder.com/100/222/ea580c?text=BEBIDA'">
                        <div class="flex-grow">
                            <h4 class="font-black text-[10px] uppercase italic">${item.name}</h4>
                            <span class="text-orange-500 font-bold text-xs">R$ ${item.price.toFixed(2)}</span>
                        </div>
                        <i class="fas fa-plus text-orange-500 mr-2 text-xs"></i>
                    </div>`;
            });
        }

        function addToCart(name, price, img) { 
            if(cart[name]) {
                cart[name].qty += 1;
            } else {
                cart[name] = { price, img, qty: 1 };
            }
            document.getElementById('cart-bar').classList.remove('hidden'); 
            updateCart();
        }

        function updateCart() {
            const m = document.getElementById('delivery-method').value;
            document.getElementById('customer-address').classList.toggle('hidden', m === 'retirada');
            
            let subtotal = 0;
            let count = 0;
            let cartHtml = '';

            for (let name in cart) {
                const item = cart[name];
                subtotal += item.price * item.qty;
                count += item.qty;
                cartHtml += `
                <div class="flex items-center gap-4 bg-zinc-900/80 p-3 rounded-xl border border-zinc-800">
                    <img src="${item.img}" class="w-10 h-10 object-cover rounded-lg" onerror="this.src='https://via.placeholder.com/50'">
                    <div class="flex-grow">
                        <div class="text-[10px] font-black uppercase text-white">${name}</div>
                        <div class="text-orange-500 text-[10px]">R$ ${item.price.toFixed(2)}</div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button onclick="changeQty('${name}', -1)" class="w-6 h-6 bg-zinc-800 rounded-full text-xs">-</button>
                        <span class="text-xs font-bold">${item.qty}</span>
                        <button onclick="changeQty('${name}', 1)" class="w-6 h-6 bg-orange-600 rounded-full text-xs">+</button>
                    </div>
                </div>`;
            }

            const total = subtotal + (m === 'entrega' ? 10 : 0);
            document.getElementById('cart-count').innerText = count;
            document.getElementById('total-display').innerText = `R$ ${total.toFixed(2)}`;
            document.getElementById('modal-total').innerText = `R$ ${total.toFixed(2)}`;
            document.getElementById('cart-list').innerHTML = cartHtml || '<p class="text-center text-zinc-500">Seu carrinho est√° vazio</p>';
            
            if(count === 0) document.getElementById('cart-bar').classList.add('hidden');
        }

        function changeQty(name, delta) {
            cart[name].qty += delta;
            if(cart[name].qty <= 0) delete cart[name];
            updateCart();
        }

        function toggleCart() { 
            document.getElementById('cart-modal').classList.toggle('hidden');
            document.body.classList.toggle('overflow-hidden');
        }

        function toggleTroco() {
            const pay = document.getElementById('payment-method').value;
            document.getElementById('troco-input').classList.toggle('hidden', pay !== 'Dinheiro');
        }

        function sendWhatsApp() {
            const nome = document.getElementById('customer-name').value;
            const metodo = document.getElementById('delivery-method').value;
            const endereco = document.getElementById('customer-address').value;
            const notas = document.getElementById('order-notes').value;
            const pagamento = document.getElementById('payment-method').value;
            const troco = document.getElementById('troco-input').value;

            if(!nome) return alert("Preencha seu nome!");
            if(metodo === 'entrega' && !endereco) return alert("Preencha o endere√ßo!");
            if(Object.keys(cart).length === 0) return alert("Carrinho vazio!");

            let texto = `üî• *M√ÉO NA BRASA - NOVO PEDIDO*\n\n`;
            texto += `üë§ *Cliente:* ${nome}\n`;
            texto += `üìç *Tipo:* ${metodo === 'entrega' ? 'Entrega üõµ' : 'Retirada ü•°'}\n`;
            if(metodo === 'entrega') texto += `üè† *Endere√ßo:* ${endereco}\n`;
            if(notas) texto += `üìù *Obs:* ${notas}\n`;
            texto += `üí≥ *Pagamento:* ${pagamento}${troco ? ' (Troco p/ ' + troco + ')' : ''}\n\n`;
            texto += `üõí *ITENS DO PEDIDO:*\n`;
            
            for (let name in cart) {
                texto += `‚Ä¢ ${cart[name].qty}x ${name} (R$ ${(cart[name].price * cart[name].qty).toFixed(2)})\n`;
            }
            
            texto += `\nüí∞ *TOTAL:* *${document.getElementById('modal-total').innerText}*`;

            const url = `https://api.whatsapp.com/send?phone=5564992360895&text=${encodeURIComponent(texto)}`;
            window.location.href = url;
        }

        // Faiscas Animadas
        for (let i = 0; i < 20; i++) {
            let f = document.createElement('div');
            f.className = 'faisca';
            f.style.left = Math.random() * 100 + 'vw';
            f.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(f);
        }

        checkStoreStatus();
        renderGrid(combos, 'combo-items');
        renderGrid(burgers, 'burger-items');
        renderGrid(porcoes, 'portion-items');
        renderBebidas();
    </script>
</body>
</html>